(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{2474:(e,t,a)=>{Promise.resolve().then(a.bind(a,222))},222:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(5155),r=a(2115),i=a(3391),o=a(666),s=a(1282);function d(){let e=(0,i.wA)(),t=(0,i.d4)(e=>e.doctors.list),[a,d]=(0,r.useState)(null),[l,c]=(0,r.useState)(""),{user:p}=(0,i.d4)(e=>e.auth);return p?((0,r.useEffect)(()=>{e((0,o.L)())},[e]),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Our Doctors"}),(0,n.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 transition duration-300 ease-in-out transform hover:scale-105",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-700",children:e.name}),(0,n.jsxs)("p",{className:"text-gray-600 mb-2",children:["Speciality: ",e.speciality]}),(0,n.jsxs)("p",{className:"text-gray-600 mb-4",children:["Email: ",e.email]}),(0,n.jsx)("button",{onClick:()=>d(e),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-300",children:"Book Appointment"})]},e._id))}),a&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[(0,n.jsxs)("h3",{className:"text-2xl font-bold mb-4",children:["Book Appointment with Dr. ",a.name]}),(0,n.jsx)("input",{type:"datetime-local",value:l,onChange:e=>c(e.target.value),className:"w-full border rounded px-3 py-2 mb-4"}),(0,n.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,n.jsx)("button",{onClick:()=>d(null),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition duration-300",children:"Cancel"}),(0,n.jsx)("button",{onClick:()=>{a&&l&&(e((0,s.fN)({doctorId:a._id,patientId:null==p?void 0:p._id,appointmentDate:l,status:"upcoming"})),d(null),c(""))},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-300",children:"Book"})]})]})})]})):(0,n.jsx)("h1",{className:"text-white text-2xl",children:"This feature is only available for Patients..."})}},1282:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>p,Ns:()=>i,fN:()=>o,l0:()=>s,ol:()=>d});var n=a(8943),r=a(1567);let i=(0,n.zD)("appointments/fetchAppointments",async()=>await (0,r.T)("/appointments")),o=(0,n.zD)("appointments/bookAppointment",async e=>await (0,r.T)("/appointments",{method:"POST",body:JSON.stringify(e)})),s=(0,n.zD)("appointments/updateAppointment",async e=>await (0,r.T)("/appointments/".concat(e._id),{method:"PUT",body:JSON.stringify(e)})),d=(0,n.zD)("appointments/cancelAppointment",async e=>(await (0,r.T)("/appointments/".concat(e),{method:"DELETE"}),e)),l=(0,n.Z0)({name:"appointments",initialState:{list:[],fetchLoading:!1,bookLoading:!1,updateLoading:!1,cancelLoading:!1,error:null},reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(i.pending,e=>{e.fetchLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.fetchLoading=!1,e.list=t.payload}).addCase(i.rejected,(e,t)=>{e.fetchLoading=!1,e.error=t.error.message||"Error fetching appointments"}).addCase(o.pending,e=>{e.bookLoading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.bookLoading=!1,e.list.push(t.payload)}).addCase(o.rejected,(e,t)=>{e.bookLoading=!1,e.error=t.error.message||"Error booking appointment"}).addCase(s.pending,e=>{e.updateLoading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.updateLoading=!1;let a=e.list.findIndex(e=>e._id===t.payload._id);-1!==a&&(e.list[a]=t.payload)}).addCase(s.rejected,(e,t)=>{e.updateLoading=!1,e.error=t.error.message||"Error updating appointment"}).addCase(d.pending,(e,t)=>{e.cancelLoading=!0,e.error=null,e.list=e.list.filter(e=>e._id!==t.meta.arg)}).addCase(d.fulfilled,e=>{e.cancelLoading=!1}).addCase(d.rejected,(e,t)=>{e.cancelLoading=!1,e.error=t.error.message||"Error canceling appointment"})}}),{clearError:c}=l.actions,p=l.reducer},666:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,L:()=>i});var n=a(8943),r=a(1567);let i=(0,n.zD)("doctors/fetchDoctors",async()=>await (0,r.T)("/doctors")),o=(0,n.Z0)({name:"doctors",initialState:{list:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.list=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Error fetching doctors"})}}).reducer},1567:(e,t,a)=>{"use strict";a.d(t,{T:()=>o,cn:()=>i});var n=a(3463),r=a(9795);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,n.$)(t))}let o=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=await fetch("".concat("http://localhost:5000/api").concat(e),{...t,headers:{"Content-Type":"application/json",...t.headers},credentials:"include"});if(!a.ok)throw Error("API request failed: ".concat(a.statusText));return await a.json()}catch(e){throw Error(e.message||"Something went wrong.")}}}},e=>{var t=t=>e(e.s=t);e.O(0,[181,505,441,517,358],()=>t(2474)),_N_E=e.O()}]);